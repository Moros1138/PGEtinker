POST http://localhost:8000/api/compile
Content-Type: application/json

{
    "code": "#define OLC_PGE_APPLICATION\n#include \"olcPixelGameEngine.h\"\n\n#if defined(__EMSCRIPTEN__)\n#include <emscripten.h>\n#define FILE_RESOLVE(url, file) emscripten_wget(url, file); emscripten_sleep(0)\n#else\n#define FILE_RESOLVE(url, file)\n#endif\n\n// Override base class with your custom functionality\nclass Example : public olc::PixelGameEngine\n{\npublic:\n    Example()\n    {\n        // Name your application\n        sAppName = \"Example\";\n    }\n    \npublic:\n    bool OnUserCreate() override\n    {\n        // Called once at the start, so create things here\n        \n        // built with emscripten, maps the url to the virtual filesystem and makes it\n        // available to the standard C/C++ file i/o functions without change!\n        //\n        // built with any other native toolchain, the macro does nothing and all file\n        // access is done just as it would in any other normal scenario.\n        FILE_RESOLVE(\"https://i.imgur.com/KdWjkwC.png\", \"assets/gfx/broken.png\");\n        \n        renBroken.Load(\"assets/gfx/broken.png\");\n\n        color = RandomColor();\n        return true;\n    }\n    \n    bool OnUserUpdate(float fElapsedTime) override\n    {\n        // Called once per frame, draws random coloured pixels\n        if(GetMouse(0).bPressed)\n            color = RandomColor();\n        \n        Clear(color);\n        DrawRect(0,0,ScreenWidth()-1, ScreenHeight()-1, olc::YELLOW);\n        DrawString(6,  6, \"Hello, PGE\", olc::BLACK);\n        DrawString(5,  5, \"Hello, PGE\", olc::WHITE);\n        DrawString(6, 26, \"Mouse position SHOULD match\\nclosely to the circle.\\n\\nYellow borders should ALWAYS\\nbe visible\\n\\nLEFT MOUSE to change color.\", olc::BLACK);\n        DrawString(5, 25, \"Mouse position SHOULD match\\nclosely to the circle.\\n\\nYellow borders should ALWAYS\\nbe visible\\n\\nLEFT MOUSE to change color.\", olc::WHITE);\n        \n        DrawSprite(5, 100, renBroken.Sprite());\n\n        DrawString(6, 221, GetMousePos().str(), olc::BLACK);\n        DrawString(5, 220, GetMousePos().str(), olc::WHITE);\n        FillCircle(GetMousePos(), 3, olc::RED);\n        Draw(GetMousePos(), olc::WHITE);\n        return true;\n    }\n    \n    olc::Pixel RandomColor()\n    {\n        return olc::Pixel(rand() % 128, rand() % 128, rand() % 128);\n    }\n    \n    olc::Pixel color;\n    olc::Renderable renBroken;\n};\n\nint main()\n{\n    Example demo;\n    if (demo.Construct(256, 240, 2, 2))\n        demo.Start();\n    return 0;\n}"
}

###
POST http://localhost:8000/api/test
Content-Type: application/json

{
    "code": "test"
}
